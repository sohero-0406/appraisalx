<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeesite.modules.common.dao.ExamDao">
	
	<!-- 查询数据
	<select id="findList" resultType="Exam">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->

	<select id="getExamInfo" resultType="Exam">
		select
		exam.id,
		exam.name,
		exam.duration,
		paper.name as paperName,
		Date_Format(exam.create_date,'%Y%m%d') as createTime,
		exam.state,
		exam.paper_id
		from common_Exam as exam
		left join aa_paper paper on exam.paper_id = paper.id
		where exam.status = '0'
		<if test="keyword != null and keyword != ''">
			and exam.name like CONCAT('%',#{keyword},'%')
		</if>

	</select>

</mapper>